asyncapi: 2.4.0
id: urn:stingeripc:SignalOnly
info:
  version: 0.0.1
  title: SignalOnly
channels:
  SignalOnly/interface:
    subscribe:
      operationId: interfaceInfo
      message:
        $ref: '#/components/messages/interfaceInfo'
  SignalOnly/signal/anotherSignal:
    subscribe:
      operationId: anotherSignal
      message:
        $ref: '#/components/messages/anotherSignal'
      traits:
      - $ref: '#/components/operationTraits/signal'
components:
  operationTraits:
    methodCall:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          qos: 2
          retain: false
    methodCallback:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          qos: 1
          retain: false
    signal:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          qos: 2
          retain: false
  messageTraits:
    methodJsonArguments:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          contentType: application/json
          correlationData:
            type: string
            format: uuid
    methodJsonResponse:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          contentType: application/json
          correlationData:
            type: string
            format: uuid
          responseTopic:
            type: string
    signalJson:
      bindings:
        mqtt:
          bindingVersion: 0.2.0
          contentType: application/json
  messages:
    interfaceInfo:
      name: interfaceInfo
      payload:
        properties:
          name:
            const: SignalOnly
            type: string
          summary:
            const: ''
            type: string
          title:
            const: SignalOnly
            type: string
          version:
            const: 0.0.1
            type: string
        required:
        - name
        - summary
        - title
        - version
        type: object
    anotherSignal:
      name: anotherSignal
      payload:
        properties:
          one:
            type: number
          three:
            type: string
          two:
            type: boolean
        required:
        - one
        - three
        - two
        type: object
      traits:
      - $ref: '#/components/messageTraits/signalJson'
  schemas: {}
servers:
  Default:
    bindings:
      mqtt:
        lastWill:
          retain: false
          message: null
          qos: 1
          topic: SignalOnly/interface
    protocol: mqtt
    protocolVersion: '5'
    url: '{hostname}:{port}'
    variables:
      hostname:
        description: The hosthame or IP address of the MQTT broker.
      port:
        description: The port for the MQTT server
